{{ $ceremony_CID := . }}
{{ $ceremony := getJSON "https://ipfs.io/ipfs/" . "/ceremony.json" }}
{{ with $ceremony }}
<div>
  <div><h4 id="{{ .datetime }}@{{ float .latitude }},{{ float .longitude }}">Local date and time = {{ .datetime }}</h4></div>
  <div>Latitude, longitude = <a href="#popup_{{ .datetime }}@{{ float .latitude }},{{ float .longitude }}">{{ float .latitude }}, {{ float .longitude }}</a></div>
  <div>Organizer's identifier = {{ .organizer_identifier }}</div>
  <div>Ethereum block height and hash = {{ .block_height }}, {{ .block_hash }}</div>
  <div><a href="https://ipns.co/{{ $ceremony_CID }}">Full IPFS directory</a></div>

<div class="media-gallery">
  <div>Videos<br />
  {{ range .videos }}
    <video height="240" style="max-height:240px; height:auto; width:auto; vertical-align:top;" controls><source src="https://ipfs.io/ipfs/{{ $ceremony_CID }}/{{ . }}"> Your browser does not support the video tag</video>
    <video hidden controls><source src="https://ipns.co/{{ $ceremony_CID }}/{{ . }}"> Your browser does not support the video tag</video>
  {{ end }}
  </div>
  <div>Pictures<br />
  {{ range .pictures }}
    <img height="240" src="https://ipfs.io/ipfs/{{ $ceremony_CID }}/{{ . }}"  style="max-height:240px; height:auto; width:auto; vertical-align:top;" />
    <img hidden loading="lazy" src="https://ipns.co/{{ $ceremony_CID }}/{{ . }}" />
  {{ end }}
  </div>
</div>

<div id="lightbox" style="display: none;">
  <span id="close" style="cursor: pointer;">X</span>
  <span id="previous" style="cursor: pointer;"><<</span>
  <span id="next" style="cursor: pointer;">>></span>
  <img id="lightbox-img" src="">
  <video id="lightbox-video" controls></video>
</div>

<hr>
</div>
{{ end }}
